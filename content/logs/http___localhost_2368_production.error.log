{"name":"Log","hostname":"mbp-0018","pid":4365,"level":50,"err":{"id":500,"domain":"http://localhost:2368","code":"ECONNREFUSED","name":"DatabaseError","statusCode":500,"level":"normal","message":"connect ECONNREFUSED 127.0.0.1:3306","help":"\"Unknown database error\"","stack":"DatabaseError: connect ECONNREFUSED 127.0.0.1:3306\n    at DatabaseError.KnexMigrateError (/Users/duc.tranleviet/Desktop/learn/blogs/versions/3.0.3/node_modules/knex-migrator/lib/errors.js:7:26)\n    at new DatabaseError (/Users/duc.tranleviet/Desktop/learn/blogs/versions/3.0.3/node_modules/knex-migrator/lib/errors.js:55:26)\n    at connection.raw.catch (/Users/duc.tranleviet/Desktop/learn/blogs/versions/3.0.3/node_modules/knex-migrator/lib/database.js:47:19)\n    at tryCatcher (/Users/duc.tranleviet/Desktop/learn/blogs/versions/3.0.3/node_modules/knex-migrator/node_modules/bluebird/js/release/util.js:16:23)\n    at Promise._settlePromiseFromHandler (/Users/duc.tranleviet/Desktop/learn/blogs/versions/3.0.3/node_modules/knex-migrator/node_modules/bluebird/js/release/promise.js:547:31)\n    at Promise._settlePromise (/Users/duc.tranleviet/Desktop/learn/blogs/versions/3.0.3/node_modules/knex-migrator/node_modules/bluebird/js/release/promise.js:604:18)\n    at Promise._settlePromise0 (/Users/duc.tranleviet/Desktop/learn/blogs/versions/3.0.3/node_modules/knex-migrator/node_modules/bluebird/js/release/promise.js:649:10)\n    at Promise._settlePromises (/Users/duc.tranleviet/Desktop/learn/blogs/versions/3.0.3/node_modules/knex-migrator/node_modules/bluebird/js/release/promise.js:725:18)\n    at _drainQueueStep (/Users/duc.tranleviet/Desktop/learn/blogs/versions/3.0.3/node_modules/knex-migrator/node_modules/bluebird/js/release/async.js:93:12)\n    at _drainQueue (/Users/duc.tranleviet/Desktop/learn/blogs/versions/3.0.3/node_modules/knex-migrator/node_modules/bluebird/js/release/async.js:86:9)\n    at Async._drainQueues (/Users/duc.tranleviet/Desktop/learn/blogs/versions/3.0.3/node_modules/knex-migrator/node_modules/bluebird/js/release/async.js:102:5)\n    at Immediate.Async.drainQueues [as _onImmediate] (/Users/duc.tranleviet/Desktop/learn/blogs/versions/3.0.3/node_modules/knex-migrator/node_modules/bluebird/js/release/async.js:15:14)\n    at runCallback (timers.js:705:18)\n    at tryOnImmediate (timers.js:676:5)\n    at processImmediate (timers.js:658:5)\n\nError: connect ECONNREFUSED 127.0.0.1:3306\n    at TCPConnectWrap.afterConnect [as oncomplete] (net.js:1097:14)\n    --------------------\n    at Protocol._enqueue (/Users/duc.tranleviet/Desktop/learn/blogs/versions/3.0.3/node_modules/mysql/lib/protocol/Protocol.js:144:48)\n    at Protocol.handshake (/Users/duc.tranleviet/Desktop/learn/blogs/versions/3.0.3/node_modules/mysql/lib/protocol/Protocol.js:51:23)\n    at Connection.connect (/Users/duc.tranleviet/Desktop/learn/blogs/versions/3.0.3/node_modules/mysql/lib/Connection.js:119:18)\n    at _bluebird.default (/Users/duc.tranleviet/Desktop/learn/blogs/versions/3.0.3/node_modules/knex-migrator/node_modules/knex/lib/dialects/mysql/index.js:82:18)\n    at Promise._execute (/Users/duc.tranleviet/Desktop/learn/blogs/versions/3.0.3/node_modules/knex-migrator/node_modules/bluebird/js/release/debuggability.js:427:9)\n    at Promise._resolveFromExecutor (/Users/duc.tranleviet/Desktop/learn/blogs/versions/3.0.3/node_modules/knex-migrator/node_modules/bluebird/js/release/promise.js:518:18)\n    at new Promise (/Users/duc.tranleviet/Desktop/learn/blogs/versions/3.0.3/node_modules/knex-migrator/node_modules/bluebird/js/release/promise.js:103:10)\n    at Client_MySQL.acquireRawConnection (/Users/duc.tranleviet/Desktop/learn/blogs/versions/3.0.3/node_modules/knex-migrator/node_modules/knex/lib/dialects/mysql/index.js:77:12)\n    at create (/Users/duc.tranleviet/Desktop/learn/blogs/versions/3.0.3/node_modules/knex-migrator/node_modules/knex/lib/client.js:282:21)\n    at utils_1.tryPromise (/Users/duc.tranleviet/Desktop/learn/blogs/versions/3.0.3/node_modules/tarn/lib/Pool.js:315:34)\n    at Object.tryPromise (/Users/duc.tranleviet/Desktop/learn/blogs/versions/3.0.3/node_modules/tarn/lib/utils.js:53:24)\n    at Promise (/Users/duc.tranleviet/Desktop/learn/blogs/versions/3.0.3/node_modules/tarn/lib/Pool.js:315:17)\n    at Promise._execute (/Users/duc.tranleviet/Desktop/learn/blogs/versions/3.0.3/node_modules/bluebird/js/release/debuggability.js:411:9)\n    at Promise._resolveFromExecutor (/Users/duc.tranleviet/Desktop/learn/blogs/versions/3.0.3/node_modules/bluebird/js/release/promise.js:518:18)\n    at new Promise (/Users/duc.tranleviet/Desktop/learn/blogs/versions/3.0.3/node_modules/bluebird/js/release/promise.js:103:10)\n    at callbackOrPromise (/Users/duc.tranleviet/Desktop/learn/blogs/versions/3.0.3/node_modules/tarn/lib/Pool.js:306:12)\n    at Pool._create (/Users/duc.tranleviet/Desktop/learn/blogs/versions/3.0.3/node_modules/tarn/lib/Pool.js:236:9)\n    at Pool._doCreate (/Users/duc.tranleviet/Desktop/learn/blogs/versions/3.0.3/node_modules/tarn/lib/Pool.js:208:36)\n    at Pool._tryAcquireOrCreate (/Users/duc.tranleviet/Desktop/learn/blogs/versions/3.0.3/node_modules/tarn/lib/Pool.js:159:18)\n    at Pool.acquire (/Users/duc.tranleviet/Desktop/learn/blogs/versions/3.0.3/node_modules/tarn/lib/Pool.js:85:14)\n    at _bluebird.default.try (/Users/duc.tranleviet/Desktop/learn/blogs/versions/3.0.3/node_modules/knex-migrator/node_modules/knex/lib/client.js:333:50)\n    at tryCatcher (/Users/duc.tranleviet/Desktop/learn/blogs/versions/3.0.3/node_modules/knex-migrator/node_modules/bluebird/js/release/util.js:16:23)\n    at Function.Promise.attempt.Promise.try (/Users/duc.tranleviet/Desktop/learn/blogs/versions/3.0.3/node_modules/knex-migrator/node_modules/bluebird/js/release/method.js:39:29)\n    at Client_MySQL.acquireConnection (/Users/duc.tranleviet/Desktop/learn/blogs/versions/3.0.3/node_modules/knex-migrator/node_modules/knex/lib/client.js:333:33)\n    at Runner.ensureConnection (/Users/duc.tranleviet/Desktop/learn/blogs/versions/3.0.3/node_modules/knex-migrator/node_modules/knex/lib/runner.js:226:24)\n    at Runner.run (/Users/duc.tranleviet/Desktop/learn/blogs/versions/3.0.3/node_modules/knex-migrator/node_modules/knex/lib/runner.js:33:41)\n    at Raw.Target.then (/Users/duc.tranleviet/Desktop/learn/blogs/versions/3.0.3/node_modules/knex-migrator/node_modules/knex/lib/interface.js:23:43)\n    at Raw.Target.(anonymous function) [as catch] (/Users/duc.tranleviet/Desktop/learn/blogs/versions/3.0.3/node_modules/knex-migrator/node_modules/knex/lib/interface.js:95:28)\n    at Object.exports.ensureConnectionWorks (/Users/duc.tranleviet/Desktop/learn/blogs/versions/3.0.3/node_modules/knex-migrator/lib/database.js:38:15)\n    at KnexMigrator.isDatabaseOK (/Users/duc.tranleviet/Desktop/learn/blogs/versions/3.0.3/node_modules/knex-migrator/lib/index.js:591:21)\n    at Object.module.exports.getState (/Users/duc.tranleviet/Desktop/learn/blogs/versions/3.0.3/core/server/data/db/migrator.js:11:25)\n    at isDatabaseInitialisationRequired (/Users/duc.tranleviet/Desktop/learn/blogs/versions/3.0.3/core/server/index.js:165:21)\n    at makeGhost (/Users/duc.tranleviet/Desktop/learn/blogs/versions/3.0.3/core/index.js:13:12)\n    at Object.<anonymous> (/Users/duc.tranleviet/Desktop/learn/blogs/versions/3.0.3/index.js:20:1)"},"msg":"connect ECONNREFUSED 127.0.0.1:3306","time":"2019-11-20T05:34:30.759Z","v":0}
{"name":"Log","hostname":"mbp-0018","pid":4397,"level":50,"err":{"id":500,"domain":"http://localhost:2368","code":"ER_ACCESS_DENIED_ERROR","name":"DatabaseError","statusCode":500,"level":"normal","message":"ER_ACCESS_DENIED_ERROR: Access denied for user 'root'@'172.17.0.1' (using password: NO)","help":"\"Unknown database error\"","stack":"DatabaseError: ER_ACCESS_DENIED_ERROR: Access denied for user 'root'@'172.17.0.1' (using password: NO)\n    at DatabaseError.KnexMigrateError (/Users/duc.tranleviet/Desktop/learn/blogs/versions/3.0.3/node_modules/knex-migrator/lib/errors.js:7:26)\n    at new DatabaseError (/Users/duc.tranleviet/Desktop/learn/blogs/versions/3.0.3/node_modules/knex-migrator/lib/errors.js:55:26)\n    at connection.raw.catch (/Users/duc.tranleviet/Desktop/learn/blogs/versions/3.0.3/node_modules/knex-migrator/lib/database.js:47:19)\n    at tryCatcher (/Users/duc.tranleviet/Desktop/learn/blogs/versions/3.0.3/node_modules/knex-migrator/node_modules/bluebird/js/release/util.js:16:23)\n    at Promise._settlePromiseFromHandler (/Users/duc.tranleviet/Desktop/learn/blogs/versions/3.0.3/node_modules/knex-migrator/node_modules/bluebird/js/release/promise.js:547:31)\n    at Promise._settlePromise (/Users/duc.tranleviet/Desktop/learn/blogs/versions/3.0.3/node_modules/knex-migrator/node_modules/bluebird/js/release/promise.js:604:18)\n    at Promise._settlePromise0 (/Users/duc.tranleviet/Desktop/learn/blogs/versions/3.0.3/node_modules/knex-migrator/node_modules/bluebird/js/release/promise.js:649:10)\n    at Promise._settlePromises (/Users/duc.tranleviet/Desktop/learn/blogs/versions/3.0.3/node_modules/knex-migrator/node_modules/bluebird/js/release/promise.js:725:18)\n    at _drainQueueStep (/Users/duc.tranleviet/Desktop/learn/blogs/versions/3.0.3/node_modules/knex-migrator/node_modules/bluebird/js/release/async.js:93:12)\n    at _drainQueue (/Users/duc.tranleviet/Desktop/learn/blogs/versions/3.0.3/node_modules/knex-migrator/node_modules/bluebird/js/release/async.js:86:9)\n    at Async._drainQueues (/Users/duc.tranleviet/Desktop/learn/blogs/versions/3.0.3/node_modules/knex-migrator/node_modules/bluebird/js/release/async.js:102:5)\n    at Immediate.Async.drainQueues [as _onImmediate] (/Users/duc.tranleviet/Desktop/learn/blogs/versions/3.0.3/node_modules/knex-migrator/node_modules/bluebird/js/release/async.js:15:14)\n    at runCallback (timers.js:705:18)\n    at tryOnImmediate (timers.js:676:5)\n    at processImmediate (timers.js:658:5)\n\nError: ER_ACCESS_DENIED_ERROR: Access denied for user 'root'@'172.17.0.1' (using password: NO)\n    at Handshake.Sequence._packetToError (/Users/duc.tranleviet/Desktop/learn/blogs/versions/3.0.3/node_modules/mysql/lib/protocol/sequences/Sequence.js:47:14)\n    at Handshake.ErrorPacket (/Users/duc.tranleviet/Desktop/learn/blogs/versions/3.0.3/node_modules/mysql/lib/protocol/sequences/Handshake.js:123:18)\n    at Protocol._parsePacket (/Users/duc.tranleviet/Desktop/learn/blogs/versions/3.0.3/node_modules/mysql/lib/protocol/Protocol.js:291:23)\n    at Parser._parsePacket (/Users/duc.tranleviet/Desktop/learn/blogs/versions/3.0.3/node_modules/mysql/lib/protocol/Parser.js:433:10)\n    at Parser.write (/Users/duc.tranleviet/Desktop/learn/blogs/versions/3.0.3/node_modules/mysql/lib/protocol/Parser.js:43:10)\n    at Protocol.write (/Users/duc.tranleviet/Desktop/learn/blogs/versions/3.0.3/node_modules/mysql/lib/protocol/Protocol.js:38:16)\n    at Socket.<anonymous> (/Users/duc.tranleviet/Desktop/learn/blogs/versions/3.0.3/node_modules/mysql/lib/Connection.js:91:28)\n    at Socket.<anonymous> (/Users/duc.tranleviet/Desktop/learn/blogs/versions/3.0.3/node_modules/mysql/lib/Connection.js:525:10)\n    at Socket.emit (events.js:189:13)\n    at addChunk (_stream_readable.js:284:12)\n    at readableAddChunk (_stream_readable.js:265:11)\n    at Socket.Readable.push (_stream_readable.js:220:10)\n    at TCP.onStreamRead [as onread] (internal/stream_base_commons.js:94:17)\n    --------------------\n    at Protocol._enqueue (/Users/duc.tranleviet/Desktop/learn/blogs/versions/3.0.3/node_modules/mysql/lib/protocol/Protocol.js:144:48)\n    at Protocol.handshake (/Users/duc.tranleviet/Desktop/learn/blogs/versions/3.0.3/node_modules/mysql/lib/protocol/Protocol.js:51:23)\n    at Connection.connect (/Users/duc.tranleviet/Desktop/learn/blogs/versions/3.0.3/node_modules/mysql/lib/Connection.js:119:18)\n    at _bluebird.default (/Users/duc.tranleviet/Desktop/learn/blogs/versions/3.0.3/node_modules/knex-migrator/node_modules/knex/lib/dialects/mysql/index.js:82:18)\n    at Promise._execute (/Users/duc.tranleviet/Desktop/learn/blogs/versions/3.0.3/node_modules/knex-migrator/node_modules/bluebird/js/release/debuggability.js:427:9)\n    at Promise._resolveFromExecutor (/Users/duc.tranleviet/Desktop/learn/blogs/versions/3.0.3/node_modules/knex-migrator/node_modules/bluebird/js/release/promise.js:518:18)\n    at new Promise (/Users/duc.tranleviet/Desktop/learn/blogs/versions/3.0.3/node_modules/knex-migrator/node_modules/bluebird/js/release/promise.js:103:10)\n    at Client_MySQL.acquireRawConnection (/Users/duc.tranleviet/Desktop/learn/blogs/versions/3.0.3/node_modules/knex-migrator/node_modules/knex/lib/dialects/mysql/index.js:77:12)\n    at create (/Users/duc.tranleviet/Desktop/learn/blogs/versions/3.0.3/node_modules/knex-migrator/node_modules/knex/lib/client.js:282:21)\n    at utils_1.tryPromise (/Users/duc.tranleviet/Desktop/learn/blogs/versions/3.0.3/node_modules/tarn/lib/Pool.js:315:34)\n    at Object.tryPromise (/Users/duc.tranleviet/Desktop/learn/blogs/versions/3.0.3/node_modules/tarn/lib/utils.js:53:24)\n    at Promise (/Users/duc.tranleviet/Desktop/learn/blogs/versions/3.0.3/node_modules/tarn/lib/Pool.js:315:17)\n    at Promise._execute (/Users/duc.tranleviet/Desktop/learn/blogs/versions/3.0.3/node_modules/bluebird/js/release/debuggability.js:411:9)\n    at Promise._resolveFromExecutor (/Users/duc.tranleviet/Desktop/learn/blogs/versions/3.0.3/node_modules/bluebird/js/release/promise.js:518:18)\n    at new Promise (/Users/duc.tranleviet/Desktop/learn/blogs/versions/3.0.3/node_modules/bluebird/js/release/promise.js:103:10)\n    at callbackOrPromise (/Users/duc.tranleviet/Desktop/learn/blogs/versions/3.0.3/node_modules/tarn/lib/Pool.js:306:12)\n    at Pool._create (/Users/duc.tranleviet/Desktop/learn/blogs/versions/3.0.3/node_modules/tarn/lib/Pool.js:236:9)\n    at Pool._doCreate (/Users/duc.tranleviet/Desktop/learn/blogs/versions/3.0.3/node_modules/tarn/lib/Pool.js:208:36)\n    at Pool._tryAcquireOrCreate (/Users/duc.tranleviet/Desktop/learn/blogs/versions/3.0.3/node_modules/tarn/lib/Pool.js:159:18)\n    at Pool.acquire (/Users/duc.tranleviet/Desktop/learn/blogs/versions/3.0.3/node_modules/tarn/lib/Pool.js:85:14)\n    at _bluebird.default.try (/Users/duc.tranleviet/Desktop/learn/blogs/versions/3.0.3/node_modules/knex-migrator/node_modules/knex/lib/client.js:333:50)\n    at tryCatcher (/Users/duc.tranleviet/Desktop/learn/blogs/versions/3.0.3/node_modules/knex-migrator/node_modules/bluebird/js/release/util.js:16:23)\n    at Function.Promise.attempt.Promise.try (/Users/duc.tranleviet/Desktop/learn/blogs/versions/3.0.3/node_modules/knex-migrator/node_modules/bluebird/js/release/method.js:39:29)\n    at Client_MySQL.acquireConnection (/Users/duc.tranleviet/Desktop/learn/blogs/versions/3.0.3/node_modules/knex-migrator/node_modules/knex/lib/client.js:333:33)\n    at Runner.ensureConnection (/Users/duc.tranleviet/Desktop/learn/blogs/versions/3.0.3/node_modules/knex-migrator/node_modules/knex/lib/runner.js:226:24)\n    at Runner.run (/Users/duc.tranleviet/Desktop/learn/blogs/versions/3.0.3/node_modules/knex-migrator/node_modules/knex/lib/runner.js:33:41)\n    at Raw.Target.then (/Users/duc.tranleviet/Desktop/learn/blogs/versions/3.0.3/node_modules/knex-migrator/node_modules/knex/lib/interface.js:23:43)\n    at Raw.Target.(anonymous function) [as catch] (/Users/duc.tranleviet/Desktop/learn/blogs/versions/3.0.3/node_modules/knex-migrator/node_modules/knex/lib/interface.js:95:28)\n    at Object.exports.ensureConnectionWorks (/Users/duc.tranleviet/Desktop/learn/blogs/versions/3.0.3/node_modules/knex-migrator/lib/database.js:38:15)\n    at KnexMigrator.isDatabaseOK (/Users/duc.tranleviet/Desktop/learn/blogs/versions/3.0.3/node_modules/knex-migrator/lib/index.js:591:21)\n    at Object.module.exports.getState (/Users/duc.tranleviet/Desktop/learn/blogs/versions/3.0.3/core/server/data/db/migrator.js:11:25)\n    at isDatabaseInitialisationRequired (/Users/duc.tranleviet/Desktop/learn/blogs/versions/3.0.3/core/server/index.js:165:21)\n    at makeGhost (/Users/duc.tranleviet/Desktop/learn/blogs/versions/3.0.3/core/index.js:13:12)\n    at Object.<anonymous> (/Users/duc.tranleviet/Desktop/learn/blogs/versions/3.0.3/index.js:20:1)"},"msg":"ER_ACCESS_DENIED_ERROR: Access denied for user 'root'@'172.17.0.1' (using password: NO)","time":"2019-11-20T05:35:38.519Z","v":0}
